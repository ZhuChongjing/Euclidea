<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link rel="shortcut icon" href="/Euclidea/assets/favicon.png" type="image/x-icon">
        <link rel="icon" href="/Euclidea/assets/favicon.png" type="image/x-icon">
        <title>Euclidea 解题参考 - Angle of 60°</title>
        <link href="/Euclidea/bundle.css" rel="stylesheet">
        <link href="/Euclidea/packs.css" rel="stylesheet">
        <link href="/Euclidea/level.css" rel="stylesheet">
        <link href="/Euclidea/tool.css" rel="stylesheet">
    </head>
    <body>
        <img src="/Euclidea/assets/douyin.jpg" class="bottom-left-img">
        <a target="_blank" href="https://itunes.apple.com/app/euclidea-2-geometric-constructions/id927914361?mt=8">
            <img class="bottom-right-img apple-button" src="/Euclidea/assets/AppStoreBadgeWhite_US.svg">
        </a>
        <a target="_blank" href="https://play.google.com/store/apps/details?id=com.hil_hk.euclidea&amp;hl=en">
            <img class="bottom-right-img" src="/Euclidea/assets/GooglePlayBadgeWhite_US.svg">
        </a>
        <app-component _nghost-c0="" ng-version="4.0.1">
            <router-outlet _ngcontent-c0=""></router-outlet>
            <main-component _nghost-c2="" ng-version="4.0.1">
                <main _ngcontent-c2="" class="main">
                    <div _ngcontent-c2="" class="main-background main-background-first"></div>
                    <div _ngcontent-c2="" class="main-background main-background-second"></div>
                    <div _ngcontent-c2="" class="layout"></div>
                    <header-component _ngcontent-c2="" _nghost-c3="">
                        <header _ngcontent-c3="" class="header">
                            <div _ngcontent-c3="" class="logo">
                                <img _ngcontent-c3="" alt="" class="logo-img" src="/Euclidea/assets/LogoPacksScreen.png">
                                <p class="title">解题参考</p>
                            </div>
                            <div _ngcontent-c3="" class="buttons">
                                <a _ngcontent-c3="" target="_blank" class="button button-apple-en" href="https://itunes.apple.com/app/euclidea-2-geometric-constructions/id927914361?mt=8"></a>
                                <a _ngcontent-c3="" target="_blank" class="button button-google-en" href="https://play.google.com/store/apps/details?id=com.hil_hk.euclidea&amp;hl=en"></a>
                            </div>
                            <div _ngcontent-c3="" class="count-box">
                                <div _ngcontent-c3="" class="star"></div>
                                <div _ngcontent-c3="" class="total-count">
                                    <!---->
                                    <p _ngcontent-c3="" class="count">
                                        <span _ngcontent-c3="" class="count-inner-bold">36</span>
                                        <span _ngcontent-c3="" class="count-inner">/ 36</span>
                                    </p>
                                </div>
                            </div>
                        </header>
                    </header-component>
                    <router-outlet _ngcontent-c2=""></router-outlet>
                    <levels-box-component _nghost-c8="" ng-version="4.0.1">
                        <div _ngcontent-c8="" class="levels-box">
                            <div _ngcontent-c8="" class="levels-box-inner">
                                <div class="level-header-section">
                                    <a _ngcontent-c8="" class="button-back-icon" href="/Euclidea/packs/Alpha.html">
                                        <img _ngcontent-c8="" alt="" src="/Euclidea/assets/BackBtn.svg">
                                    </a>
                                    <div _ngcontent-c8="" class="pack-label">
                                        <div _ngcontent-c8="" alt="" class="icon svg-Alpha"></div>
                                        <!---->
                                        <h1 class="level-title">1. Angle of 60°</h1>
                                    </div>
                                </div>
                                <div class="stars-nav-container">
                                    <div class="stars-nav">
                                        <div class="star-item" data-star="EL" data-combined="true">
                                            <img _ngcontent-c3="" alt="" class="bigstar" src="/Euclidea/assets/resstar2-1at2x.png">
                                            <span class="star-label">L星</span>
                                        </div>
                                        <div class="star-item" data-star="L">
                                            <img _ngcontent-c3="" alt="" class="bigstar" src="/Euclidea/assets/resstar3-1at2x.png">
                                            <span class="star-label">E星</span>
                                        </div>
                                        <div class="star-item" data-star="V">
                                            <img _ngcontent-c3="" alt="" class="bigstar" src="/Euclidea/assets/resstar4-1at2x.png">
                                            <span class="star-label">V星</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="content-section">
                                    <div class="tools-section">
                                        <div _ngcontent-c2="" class="tool-button icon-CircleTool" data-time="1" title="Circle Tool"></div>
                                        <div _ngcontent-c2="" class="tool-button icon-CircleTool" data-time="2" title="Circle Tool"></div>
                                        <div _ngcontent-c2="" class="tool-button icon-LineTool" data-time="3" title="Line Tool"></div>
                                    </div>
                                    <div class="video-section">
                                        <div class="video-container">
                                            <video id="solution-video" controls width="100%" height="auto">
                                                <source src="/Euclidea/assets/Angle60.mp4" type="video/mp4">
                                                您的浏览器不支持视频播放
                                            </video>
                                        </div>
                                    </div>
                                </div>
                                <div class="steps-section">
                                    <div class="step-content active" data-star="EL">
                                        <h3 class="step-title">E星 + L星 解法步骤</h3>
                                        <p class="step-description">
                                            1. 以任意点A为圆心画圆<br>
                                            2. 在圆上取一点B，以B为圆心画圆<br>
                                            3. 连接A点和两圆交点C<br>
                                            4. ∠CAB即为60°角
                                        </p>
                                    </div>
                                    <div class="step-content" data-star="L">
                                        <h3 class="step-title">L星 解法步骤</h3>
                                        <p class="step-description">
                                            1. 画一条直线<br>
                                            2. 在直线上取一点A<br>
                                            3. 以A为顶点构造60°角<br>
                                            4. 使用最少步骤完成
                                        </p>
                                    </div>
                                    <div class="step-content" data-star="V">
                                        <h3 class="step-title">V星 解法步骤</h3>
                                        <p class="step-description">
                                            1. 使用特定工具组合<br>
                                            2. 实现精确的60°角构造<br>
                                            3. 验证角度准确性<br>
                                            4. 完成挑战目标
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </levels-box-component>
                </main>
            </main-component>
        </app-component>
        <script>
            // 所有事件绑定放在DOMContentLoaded中确保DOM完全加载
            document.addEventListener('DOMContentLoaded', function() {
                // 星星导航点击事件
                document.querySelectorAll('.star-item').forEach(item => {
                    item.addEventListener('click', function() {
                        // 移除所有激活状态
                        document.querySelectorAll('.star-item').forEach(i => i.classList.remove('active'));
                        document.querySelectorAll('.step-content').forEach(c => c.classList.remove('active'));
                        
                        // 获取当前点击的星星类型
                        const starType = this.getAttribute('data-star');
                        
                        // 处理特殊情况：EL星
                        if (starType === 'EL') {
                            // 激活EL星按钮
                            document.querySelector('.star-item[data-star="EL"]').classList.add('active');
                            
                            // 如果需要同时激活，也激活L星
                            if (this.getAttribute('data-combined') === 'true') {
                                document.querySelector('.star-item[data-star="L"]').classList.add('active');
                            }
                            
                            // 显示EL的解法步骤
                            document.querySelector('.step-content[data-star="EL"]').classList.add('active');
                        } else if (starType === 'L' || starType === 'E' || starType === 'V') {
                            // 如果点击的是其他星星
                            this.classList.add('active');
                            document.querySelector(`.step-content[data-star="${starType}"]`).classList.add('active');
                        }
                    });
                });
                
                // 视频平滑跳转函数
                function smoothSeek(video, targetTime, duration = 500) {
                    const startTime = video.currentTime;
                    const timeDiff = targetTime - startTime;
                    const startTimeStamp = performance.now();
                    
                    function updateSeek(currentTimeStamp) {
                        const elapsed = currentTimeStamp - startTimeStamp;
                        const progress = Math.min(elapsed / duration, 1);
                        
                        // 使用缓动函数使过渡更自然
                        const easedProgress = progress * (2 - progress);
                        video.currentTime = startTime + timeDiff * easedProgress;
                        
                        if (progress < 1) {
                            requestAnimationFrame(updateSeek);
                        } else {
                            console.log(`视频平滑跳转到 ${targetTime}秒`);
                        }
                    }
                    
                    requestAnimationFrame(updateSeek);
                }
                
                // 工具按钮点击事件 - 视频跳转
                document.querySelectorAll('.tool-button').forEach(button => {
                    button.addEventListener('click', function() {
                        // 移除所有激活状态
                        document.querySelectorAll('.tool-button').forEach(b => b.classList.remove('active'));
                        
                        // 添加当前激活状态
                        this.classList.add('active');
                        
                        const time = parseFloat(this.getAttribute('data-time'));
                        const video = document.getElementById('solution-video');
                        
                        if (video) {
                            // 使用平滑跳转函数
                            smoothSeek(video, time);
                        }
                    });
                });
                
                // 默认激活E星和第一个工具按钮
                document.querySelector('.star-item[data-star="EL"]').classList.add('active');
                document.querySelector('.tool-button[data-time="1"]').classList.add('active');
            });
        </script>
    </body>
</html>